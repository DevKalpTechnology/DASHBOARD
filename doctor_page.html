<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor's appointment page</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>

<body>
    <h2>Appointment List</h2>
    <div class="container">
        <table class="table">
            <thead>
                <th>Sr no.</th>
                <th>Name</th>
                <th>Mobile</th>
                <th>Email ID</th>
                <th>Message</th>
            </thead>
            <tbody id="tbody1"></tbody>
        </table>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
    <script  id="MainScrpit">

    // Your web app's Firebase configuration
    var firebaseConfig = {
    apiKey: "AIzaSyCi3j136CE3Vkm-uunG4gtJ4qlfNk6O3q0",
    authDomain: "testing-100dc.firebaseapp.com",
    databaseURL: "https://testing-100dc-default-rtdb.firebaseio.com",
    projectId: "testing-100dc",
    storageBucket: "testing-100dc.appspot.com",
    messagingSenderId: "554656015688",
    appId: "1:554656015688:web:0c39bd5725244132da3f7d"
  };

   // Initialize Firebase
   firebase.initializeApp(firebaseConfig);


     //------------------------------Get All The Data-----------------------------//
  function SelectAllData(){
      firebase.database().ref('contactform').once('value',
      function(AllRecords){
       AllRecords.forEach(
         function(CurrentRecord){
          var name = CurrentRecord.val().name;
          var mobile = CurrentRecord.val().mobile;
          var emailid = CurrentRecord.val().emailid;
          var message = CurrentRecord.val().message;
          AddItemsToTable(name,mobile, emailid, message); 
        }  
       );
      });
  }
  window.onload=SelectAllData;
  //----------------------filling table----------------//
    var client=0;
    function AddItemsToTable(name,mobile, emailid, message){
        var tbody = document.getElementById('tbody1');
        var trow = document.createElement('tr');
        var td1 = document.createElement('td');
        var td2 = document.createElement('td');
        var td3 = document.createElement('td');
        var td4 = document.createElement('td');
        var td5 = document.createElement('td');
        td1.innerHTML = ++client;
        td2.innerHTML = name;
        td3.innerHTML = mobile;
        td4.innerHTML = emailid;
        td5.innerHTML = message;
        trow.appendChild(td1);
        trow.appendChild(td2);
        trow.appendChild(td3);
        trow.appendChild(td4);
        trow.appendChild(td5);
        tbody.appendChild(trow);

    }
    </script>
</body>
</html>