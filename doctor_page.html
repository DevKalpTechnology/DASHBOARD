<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor's appointment page</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>

<body>
    <h2>Appointment List</h2>
    <div class="container">
        <table class="table">
            <thead>
                <th>Sr no.</th>
                <th>Name</th>
                <th>Mobile</th>
                <th>Email ID</th>
                <th>Message</th>
            </thead>
            <tbody id="tbody1"></tbody>
        </table>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
    <script>

    // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAAkYdvOiRzt59TeYU1nTn2h3CymxUyKro",
            authDomain: "contact-form-bad0d.firebaseapp.com",
            databaseURL: "https://contact-form-bad0d-default-rtdb.firebaseio.com",
            projectId: "contact-form-bad0d",
            storageBucket: "contact-form-bad0d.appspot.com",
            messagingSenderId: "36932777913",
            appId: "1:36932777913:web:d2a3bfc62f9e194f14a868"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);


    //getting the data 
        function SelectAllData() {
            firebase.database().ref('contactform').on('value',
                function (AllRecords) {
                    AllRecords.forEach(
                        function (CurrentRecord) {
                            var name = CurrentRecord.val().name;
                            var mobile = CurrentRecord.val().mobile;
                            var emailid = CurrentRecord.val().emailid;
                            var message = CurrentRecord.val().message;
                            AddItemsToTable(name,mobile,  emailid, message);
                        }
                    );
                });
        }
        window.onload = SelectAllData;

//fill the table
            var client = 0;
            function AddItemsToTable(name ,mobile,  emailid, message) {
                var tbody = document.getElementById('tbody1');
                var trow = document.createElement('tr');
                var td1 = document.createElement('td');
                var td2 = document.createElement('td');
                var td3 = document.createElement('td');
                var td4 = document.createElement('td');
                var td5 = document.createElement('td');
                td1.innerHTML = ++client;
                td2.innerHTML = name;
                td3.innerHTML = mobile;
                td4.innerHTML = emailid;
                td5.innerHTML = message;
                trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);
                tbody.appendChild(trow);

            }
    </script>
</body>
</html>